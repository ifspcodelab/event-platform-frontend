<article class="container">
  <app-admin-header (backLink)="getBackUrl()"></app-admin-header>
  <header class="container__header">
    <h1 class="container__header__title">Sessões</h1>
  </header>

  <p *ngIf="!sessionsDto.length">Nenhuma sessão cadastrada</p>

  <table class="container__table" *ngIf="sessionsDto.length" mat-table [dataSource]="dataSource">

    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef>Título</th>
      <td mat-cell *matCellDef="let element"> {{ element.title }} </td>
    </ng-container>

    <ng-container matColumnDef="seats">
      <th mat-header-cell *matHeaderCellDef>Número de vagas</th>
      <td mat-cell *matCellDef="let element"> {{ element.seats }} </td>
    </ng-container>

    <ng-container matColumnDef="confirmedSeats">
      <th mat-header-cell *matHeaderCellDef>Inscritos Confirmados</th>
      <td mat-cell *matCellDef="let element"> {{ element.confirmedSeats }} </td>
    </ng-container>

    <ng-container matColumnDef="schedules">
      <th mat-header-cell *matHeaderCellDef>Horários</th>
      <td mat-cell *matCellDef="let element">
        <p style="margin: 0" *ngFor="let sessionSchedule of element.sessionSchedules">
          {{ sessionSchedule.executionStart | date: 'ccc dd/MM/yyyy HH:mm' : '' : 'pt-BR' }} à
          {{ sessionSchedule.executionEnd | date: 'HH:mm' }}
        </p>
      </td>
    </ng-container>

    <ng-container matColumnDef="space">
      <th mat-header-cell *matHeaderCellDef>Espaços Reservados</th>
      <td mat-cell *matCellDef="let element">
        <p style="margin: 0" *ngFor="let sessionSchedule of element.sessionSchedules">
          {{ sessionSchedule.space ? sessionSchedule.space.name : ''  }}
        </p>
      </td>
    </ng-container>

    <ng-container matColumnDef="canceled">
      <th mat-header-cell *matHeaderCellDef>Cancelada</th>
      <td mat-cell *matCellDef="let element"> {{ element.canceled ? 'Cancelada' : '' }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="openSessionShow(row)"></tr>
  </table>


<!--  <p class="event-page__content" *ngIf="sessionsGroupByDates.length == 0">As sessões deste evento ainda não foram definidas.</p>-->
<!--  <section class="event-page__content" *ngIf="sessionsGroupByDates.length != 0">-->
<!--    <mat-tab-group animationDuration="0ms" style="min-height:300px">-->
<!--      <mat-tab *ngFor="let group of sessionsGroupByDates" [label]="group.day | date:'dd/MM' : '' : 'pt-BR'" >-->
<!--        <div class="activity-list">-->
<!--          &lt;!&ndash;            <div class="activity-card" *ngFor="let session of $any(activity).value" routerLink="/{{eventDto.slug}}/activities/{{session.activitySlug}}">&ndash;&gt;-->
<!--          <div *ngFor="let session of group.sessions" class="activity-card">-->
<!--            <h2 class="activity-card__title">-->
<!--              {{ session.activityTitle }}-->
<!--              <span class="activity-card__type">{{ session.activityType | activityTypes }}</span>-->
<!--              <span class="activity-card__type">{{ session.activityModality | activityModalities }}</span>-->
<!--            </h2>-->
<!--            <p class="activity-card__date">-->
<!--              {{ session.sessionScheduleExecutionStart | date:'ccc' : '' : 'pt-BR' }}-->
<!--              {{ session.sessionScheduleExecutionStart | date:'HH:mm' }}-->
<!--              - {{ session.sessionScheduleExecutionEnd | date:'HH:mm' }}-->
<!--            </p>-->
<!--            <p class="activity-card__subtitle"><b>Ministrantes:</b> {{ getSpeakerNames(session.speakers) }}</p>-->
<!--            <p class="activity-card__subtitle">{{ session.activityDescription }}</p>-->
<!--          </div>-->
<!--        </div>-->
<!--      </mat-tab>-->
<!--    </mat-tab-group>-->
<!--  </section>-->
</article>
